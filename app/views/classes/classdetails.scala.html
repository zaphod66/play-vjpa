@(cls: com.versant.jpa.generic.DatabaseClass, flds: Seq[com.versant.jpa.generic.DatabaseField])(implicit flash: Flash, lang: Lang)

@import com.versant.jpa.generic.{ DatabaseClass, DatabaseField }

@main(Messages("application.name")) {
  <h2>@Messages("fields") @(if (cls != null) cls.getFullyQualifiedName)</h2>
  <p>Superclass: <b>
    @{
      if (cls != null) {
        val scls = cls.getSuperclass
    	  val sclsName = if (scls != null)
  	          scls.getFullyQualifiedName
  	        else
  	          "no superclass"
        sclsName
      } else {
        "no class"
      }
    }
  </b></p>
  <p> Subclasses:</br><b>
    @{
      if (cls != null) {
        val sclss = cls.getSubclasses
        val names = sclss map { scls => scls.getFullyQualifiedName }
        if (names.size > 0)
          names.mkString(", ")
        else
          "no subclasses"
      } else {
        "no class"
      }
    }
  </b></p>
  <h3>@Messages("fieldnames")</h3>
    <p>@flds.size fields</p>
    <p><a href="@routes.Classes.allInstances(cls.getName)" class="btn">@Messages("instances")</a></p>
  </dl>
  <dl class="products">
    @for(fld <- flds) {
      <dt>@fld.getName</dt>
      <dd>@fld.getTypeName</dd>
    }
  </dl>
}
